# ğŸš€ å¼€å§‹éƒ¨ç½²åˆ°æœåŠ¡å™¨

## ğŸ“‹ å‡†å¤‡æ¸…å•

- [ ] å®‰è£… Docker Desktop
- [ ] é…ç½®ç¯å¢ƒå˜é‡
- [ ] è¿è¡Œéƒ¨ç½²è„šæœ¬

## ç¬¬ä¸€æ­¥ï¼šå®‰è£… Docker Desktop

### Windows å®‰è£…
1. ä¸‹è½½ï¼šhttps://www.docker.com/products/docker-desktop/
2. åŒå‡»å®‰è£…åŒ…ï¼ŒæŒ‰æç¤ºæ“ä½œ
3. å®‰è£…å®Œæˆåé‡å¯ç”µè„‘
4. å¯åŠ¨ Docker Desktop

### éªŒè¯å®‰è£…
```powershell
docker --version
docker-compose --version
```

çœ‹åˆ°ç‰ˆæœ¬å·å°±è¯´æ˜å®‰è£…æˆåŠŸäº†ï¼

## ç¬¬äºŒæ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

```powershell
# å¤åˆ¶é…ç½®æ¨¡æ¿
copy .env.production .env

# ç¼–è¾‘ .env æ–‡ä»¶
notepad .env
```

**å¿…é¡»ä¿®æ”¹çš„é…ç½®ï¼š**

```env
# 1. æ•°æ®åº“å¯†ç ï¼ˆæ”¹æˆå¼ºå¯†ç ï¼‰
DB_PASSWORD=ä½ çš„å¼ºå¯†ç è‡³å°‘16ä½

# 2. JWT å¯†é’¥ï¼ˆæ”¹æˆéšæœºé•¿å­—ç¬¦ä¸²ï¼‰
JWT_SECRET=éšæœºç”Ÿæˆçš„è‡³å°‘32ä½å­—ç¬¦ä¸²

# 3. å¦‚æœæœ‰åŸŸåï¼Œä¿®æ”¹è¿™ä¸¤é¡¹
FRONTEND_URL=https://your-domain.com
API_URL=https://api.your-domain.com/api
```

**ç”Ÿæˆå¼ºå¯†é’¥çš„æ–¹æ³•ï¼š**
```powershell
# ç”Ÿæˆéšæœºå¯†é’¥
-join ((65..90) + (97..122) + (48..57) | Get-Random -Count 32 | % {[char]$_})
```

## ç¬¬ä¸‰æ­¥ï¼šä¸€é”®éƒ¨ç½²

```powershell
# è¿è¡Œéƒ¨ç½²è„šæœ¬
.\scripts\deploy.ps1
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. âœ… æ£€æŸ¥ Docker æ˜¯å¦å®‰è£…
2. âœ… æ£€æŸ¥é…ç½®æ–‡ä»¶
3. âœ… æ„å»º Docker é•œåƒ
4. âœ… å¯åŠ¨æ‰€æœ‰æœåŠ¡
5. âœ… æ˜¾ç¤ºè¿è¡ŒçŠ¶æ€

## ç¬¬å››æ­¥ï¼šè®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨ï¼š
- **å‰ç«¯**: http://localhost:3000
- **åç«¯ API**: http://localhost:5000/health

## ğŸ¯ å¸¸ç”¨å‘½ä»¤

```powershell
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# é‡å¯æœåŠ¡
docker-compose restart

# åœæ­¢æœåŠ¡
docker-compose down

# å¤‡ä»½æ•°æ®åº“
.\scripts\backup.ps1
```

## ğŸŒ éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨

### 1. è´­ä¹°æœåŠ¡å™¨
æ¨èé…ç½®ï¼š
- CPU: 2æ ¸æˆ–ä»¥ä¸Š
- å†…å­˜: 4GB æˆ–ä»¥ä¸Š
- ç³»ç»Ÿ: Ubuntu 20.04 LTS

### 2. æœåŠ¡å™¨ä¸Šå®‰è£… Docker

```bash
# å®‰è£… Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# å®‰è£… Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

### 3. ä¸Šä¼ ä»£ç 

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨ Git
git clone your-repo-url
cd your-project

# æ–¹å¼äºŒï¼šä½¿ç”¨ SCP
scp -r ./your-project user@server-ip:/path/to/deploy
```

### 4. é…ç½®å¹¶å¯åŠ¨

```bash
# é…ç½®ç¯å¢ƒå˜é‡
cp .env.production .env
nano .env  # ç¼–è¾‘é…ç½®

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps
docker-compose logs -f
```

### 5. é…ç½®åŸŸåå’Œ HTTPS

```bash
# å®‰è£… Nginx
sudo apt install nginx

# é…ç½®åå‘ä»£ç†
sudo nano /etc/nginx/sites-available/blueprint

# å®‰è£… SSL è¯ä¹¦
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **
   - ä½¿ç”¨å¼ºå¯†ç ï¼ˆè‡³å°‘16ä½ï¼‰
   - å®šæœŸæ›´æ¢å¯†ç 

2. **é…ç½®é˜²ç«å¢™**
   ```bash
   sudo ufw allow 80/tcp
   sudo ufw allow 443/tcp
   sudo ufw allow 22/tcp
   sudo ufw enable
   ```

3. **å®šæœŸå¤‡ä»½**
   ```bash
   # è®¾ç½®å®šæ—¶ä»»åŠ¡
   crontab -e
   # æ·»åŠ ï¼šæ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½
   0 2 * * * cd /path/to/project && ./scripts/backup.sh
   ```

4. **ç›‘æ§æ—¥å¿—**
   ```bash
   # å®šæœŸæŸ¥çœ‹æ—¥å¿—
   docker-compose logs --tail=100
   ```

## ğŸ“Š æ€§èƒ½ç›‘æ§

```powershell
# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats

# æŸ¥çœ‹å®¹å™¨è¯¦æƒ…
docker-compose ps
docker inspect blueprint_backend
```

## ğŸ†˜ æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šå®¹å™¨æ— æ³•å¯åŠ¨
```powershell
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker-compose logs backend
docker-compose logs postgres

# æ£€æŸ¥é…ç½®
docker-compose config
```

### é—®é¢˜ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥
```powershell
# è¿›å…¥æ•°æ®åº“å®¹å™¨
docker exec -it blueprint_postgres psql -U postgres

# æ£€æŸ¥æ•°æ®åº“
\l
\c blueprint_saas
\dt
```

### é—®é¢˜ï¼šç«¯å£è¢«å ç”¨
```powershell
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :3000
netstat -ano | findstr :5000

# ä¿®æ”¹ docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„
```

## ğŸ“ˆ ä¸‹ä¸€æ­¥

- [ ] é…ç½® HTTPS
- [ ] è®¾ç½®è‡ªåŠ¨å¤‡ä»½
- [ ] é…ç½®ç›‘æ§å‘Šè­¦
- [ ] ä¼˜åŒ–æ€§èƒ½
- [ ] æ·»åŠ  CDN

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹ `éƒ¨ç½²æŒ‡å—-ç”Ÿäº§ç¯å¢ƒ.md` è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚
