# 📥 数据导入指南

## 功能说明

蓝图 AI SaaS 版本支持从本地版本的备份文件导入项目数据。

## 导入步骤

### 1. 准备备份文件

确保你有一个 JSON 格式的备份文件，例如：
- `Blueprint_Backup_2026-01-08_12-10-46-137_1.json`

备份文件应包含以下结构：
```json
{
  "version": "1.0",
  "timestamp": 1767874246137,
  "projects": [
    {
      "id": "项目ID",
      "name": "项目名称",
      "description": "项目描述",
      "createdAt": 1767489732858,
      "isArchived": false,
      "model": {
        "name": "系统名称",
        "modules": [...],
        "entities": [...]
      }
    }
  ]
}
```

### 2. 登录系统

1. 打开浏览器访问：http://localhost:3000
2. 使用你的账户登录

### 3. 导入数据

1. 在顶部导航栏找到 **"导入备份"** 按钮（绿色图标）
2. 点击按钮打开导入对话框
3. 点击 **"选择备份文件"** 按钮
4. 选择你的 JSON 备份文件
5. 点击 **"开始导入"** 按钮

### 4. 等待导入完成

- 系统会显示导入进度
- 导入成功后会显示：
  - 成功导入的项目数量
  - 跳过的已存在项目数量（如果有）

### 5. 查看导入的项目

- 导入完成后，页面会自动刷新
- 在项目管理中心可以看到所有导入的项目

## 注意事项

### ✅ 导入规则

1. **项目ID唯一性**
   - 如果导入的项目ID已存在，系统会跳过该项目
   - 不会覆盖已有项目

2. **用户隔离**
   - 导入的项目只属于当前登录用户
   - 其他用户无法看到你导入的项目

3. **数据完整性**
   - 系统会验证备份文件格式
   - 无效的数据会被拒绝

### ⚠️ 常见问题

**Q: 导入失败怎么办？**
- 检查文件格式是否正确（必须是 JSON）
- 确保文件包含 `projects` 数组
- 查看浏览器控制台（F12）的错误信息

**Q: 为什么有些项目被跳过？**
- 项目ID已经存在于你的账户中
- 这是为了防止重复导入

**Q: 可以导入多次吗？**
- 可以，但相同ID的项目只会保留第一次导入的版本

**Q: 导入的数据安全吗？**
- 所有数据都存储在数据库中
- 只有你自己可以访问
- 支持数据备份和恢复

## API 接口

如果需要通过 API 导入数据：

```bash
POST /api/import/backup
Authorization: Bearer <your_token>
Content-Type: application/json

{
  "projects": [
    {
      "id": "...",
      "name": "...",
      "model": {...}
    }
  ]
}
```

响应：
```json
{
  "success": true,
  "message": "成功导入 5 个项目，跳过 2 个已存在的项目",
  "imported": 5,
  "skipped": 2
}
```

## 相关文档

- [快速开始](./01-快速开始.md)
- [用户系统](./07-用户系统.md)
- [故障排查](./06-故障排查.md)

---

**提示**：建议定期备份你的项目数据，以防数据丢失。

