# 🚀 开始部署 - 3 步搞定！

**阅读时间**：2 分钟  
**部署时间**：15 分钟  
**难度**：⭐ 超简单

---

## 🎯 你将得到什么？

部署完成后，你将拥有：
- ✅ 一个完整的在线应用
- ✅ 免费的 PostgreSQL 数据库
- ✅ 自动 HTTPS 和域名
- ✅ 自动部署（推送代码即更新）

**访问地址示例**：
- 前端：`https://blueprint-frontend.railway.app`
- 后端：`https://blueprint-backend.railway.app`

---

## 📚 选择你的部署方式

### 方式 1：自动脚本（推荐）⭐⭐⭐⭐⭐

**Windows 用户**：
```powershell
.\deploy-railway.ps1
```

**Mac/Linux 用户**：
```bash
bash deploy-railway.sh
```

脚本会自动：
- ✅ 检查 Git 状态
- ✅ 推送代码到 GitHub
- ✅ 安装 Railway CLI
- ✅ 生成 JWT Secret
- ✅ 显示详细部署说明

---

### 方式 2：手动部署（完全掌控）⭐⭐⭐⭐

按照以下文档一步步操作：

1. **快速开始**（推荐新手）
   - 📄 `DEPLOY_NOW.md` - 15 分钟完整教程

2. **详细教程**（需要深入了解）
   - 📄 `部署教程-Railway.md` - 完整的 Railway 教程

3. **快速参考**（部署时查看）
   - 📄 `RAILWAY_QUICK_REFERENCE.md` - 一页纸速查表

4. **检查清单**（确保不遗漏）
   - 📄 `部署检查清单.md` - 完整的检查项

5. **部署记录**（记录你的进度）
   - 📄 `我的部署记录.md` - 填写你的部署信息

---

## ⚡ 3 步快速部署

### 第 1 步：推送代码到 GitHub（2 分钟）

```bash
# 如果还没有 GitHub 仓库
# 1. 访问 https://github.com/new 创建仓库
# 2. 运行以下命令

git init
git add .
git commit -m "Ready for deployment"
git remote add origin https://github.com/你的用户名/blueprint-saas.git
git branch -M main
git push -u origin main
```

---

### 第 2 步：在 Railway 创建项目（5 分钟）

1. **访问 Railway**
   - 🔗 https://railway.app/
   - 用 GitHub 账号登录

2. **创建项目**
   - 点击 "New Project"
   - 选择 "Deploy from GitHub repo"
   - 选择你的仓库

3. **添加数据库**
   - 点击 "New" → "Database" → "PostgreSQL"

4. **配置后端**（server 目录）
   ```bash
   DATABASE_URL=${{Postgres.DATABASE_URL}}
   JWT_SECRET=<运行下面的命令生成>
   NODE_ENV=production
   PORT=5000
   ```
   
   生成 JWT_SECRET：
   ```bash
   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
   ```

5. **配置前端**（根目录）
   ```bash
   VITE_API_URL=https://你的后端地址.railway.app/api
   ```

---

### 第 3 步：测试访问（3 分钟）

1. **生成域名**
   - 在前端和后端服务中点击 "Generate Domain"

2. **访问应用**
   - 前端：`https://你的前端地址.railway.app`
   - 后端健康检查：`https://你的后端地址.railway.app/health`

3. **测试功能**
   - 注册新用户
   - 登录系统
   - 创建项目

---

## 🎉 完成！

恭喜！你的应用已经成功部署到云端！

**接下来可以做什么？**

1. **分享给团队**
   - 把访问地址发给团队成员
   - 让他们注册账户开始使用

2. **配置自定义域名**（可选）
   - 在 Railway 中添加你的域名
   - 配置 DNS CNAME 记录

3. **启用 AI 功能**（可选）
   - 获取 Gemini API Key
   - 在前端环境变量中添加

4. **监控应用**
   - 定期查看 Railway 的 Usage 页面
   - 关注资源使用情况

---

## 🆘 遇到问题？

### 常见问题速查

**Q: 部署失败怎么办？**
- 查看 Deployments 标签的日志
- 检查环境变量是否正确
- 确认 package.json 脚本正确

**Q: 前端无法连接后端？**
- 检查 VITE_API_URL 是否包含 `/api`
- 确认后端 CORS_ORIGIN 包含前端域名
- 查看浏览器控制台错误

**Q: 数据库连接失败？**
- 确认 PostgreSQL 服务已启动
- 检查环境变量引用语法
- 查看后端日志

### 获取帮助

1. **查看文档**
   - 📄 `DEPLOY_NOW.md` - 详细教程
   - 📄 `部署检查清单.md` - 完整检查项
   - 📄 `RAILWAY_QUICK_REFERENCE.md` - 快速参考

2. **Railway 支持**
   - 官方文档：https://docs.railway.app/
   - Discord 社区：https://discord.gg/railway

3. **项目文档**
   - 查看 `docs/` 目录
   - 查看 `server/API_DOCUMENTATION.md`

---

## 💡 小贴士

1. **免费额度**
   - Railway 每月提供 $5 免费额度
   - 足够小型应用使用
   - 超出后按使用量付费

2. **自动部署**
   - 每次推送代码到 GitHub
   - Railway 会自动重新部署
   - 无需手动操作

3. **环境变量**
   - 使用 `${{Postgres.XXX}}` 引用数据库
   - 不要硬编码敏感信息
   - 可以随时修改

4. **日志查看**
   - 在 Deployments 标签查看
   - 实时显示运行状态
   - 帮助快速定位问题

---

## 📊 部署清单

在开始之前，确保你有：

- [ ] GitHub 账号
- [ ] Railway 账号（可用 GitHub 登录）
- [ ] 代码已准备好
- [ ] 已阅读本文档

准备好了？**开始部署吧！** 🚀

---

## 🎯 推荐流程

### 新手推荐
1. 运行自动脚本：`.\deploy-railway.ps1`
2. 按照脚本提示操作
3. 参考 `DEPLOY_NOW.md` 完成配置
4. 使用 `部署检查清单.md` 验证

### 进阶用户
1. 直接查看 `RAILWAY_QUICK_REFERENCE.md`
2. 按照快速参考操作
3. 遇到问题查看详细文档

---

**现在就开始部署吧！只需 15 分钟！** ⏱️

---

## 📞 需要帮助？

如果在部署过程中遇到任何问题：

1. 先查看 `部署检查清单.md` 中的常见问题
2. 查看 Railway 的部署日志
3. 参考 `DEPLOY_NOW.md` 的详细说明
4. 访问 Railway 官方文档

**祝你部署顺利！** 🎉
